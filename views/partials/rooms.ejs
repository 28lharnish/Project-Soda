<link rel="stylesheet" href="./public/css/style.css">
<style>

</style>
 
<div id="ui">
    <button id="create-room-btn" onclick="showModal('createRoom')">Create Room</button>
</div>

<div id="chats">
    <% if (rooms.length === 0) { %>
        <p>You have no rooms</p>
    <% } else { %>
        <% rooms.forEach(room => { %>
            <div class='room'>
                <p class="activity-notifier" id="notifier-<%= room.id %>">NEW</p>
                <img class='room-icon' src='<%= room.iconfilename %>'>
                <a class='room-link' href="/?roomid=<%= room.id %>"><%= room.name %></a>
            </div>
        <% }) %>
    <% } %>
</div>

<script>

    socket.on('message', (message) => {
        let activityNotifier = document.querySelector(`#notifier-${message.roomid}.activity-notifier`);
        if(activityNotifier){
            activityNotifier.style.display = 'block';
        };
    });
</script>